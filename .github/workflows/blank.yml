name: Test Environment Secrets

on:
  workflow_dispatch:
    inputs:
      environment:
        description: "Select the environment"
        required: true
        default: "staging"
        type: choice
        options:
          - staging
          - production

jobs:
  print-secrets:
    runs-on: ubuntu-latest

    steps:
      - name: Display Selected Environment
        run: echo "Selected environment: ${{ github.event.inputs.environment }}"

      - name: Print Secrets for Selected Environment
        run: |
          echo "Host: ${{ secrets[format('EC2_HOST_{0}', github.event.inputs.environment)] }}"
          echo "Username: ${{ secrets[format('EC2_USERNAME_{0}', github.event.inputs.environment)] }}"
          echo "Private Key: ${{ secrets[format('SSH_PRIVATE_KEY_{0}', github.event.inputs.environment)] }}"
